import random

class ProfiledDevice:    
    def __init__(self, n_epoch_time=0.0, energy_drain=0.0):
        self.energy_drain = energy_drain/1000.0 #in millijoules
        self.n_epoch_time = n_epoch_time #in seconds

def get_device_parameters(num_clients=50, num_device_per_user=7):

    random.seed(4444)

    tx2_cpu = ProfiledDevice(42.79, 128906)
    tx2_gpu = ProfiledDevice(28.73, 87305)
    nx_cpu = ProfiledDevice(23.12, 15581)
    nx_gpu = ProfiledDevice(16.11, 13766)
    nano_cpu = ProfiledDevice(50.31, 27315)
    nano_gpu = ProfiledDevice(33.10, 22547)
    agx_cpu = ProfiledDevice(16.0, 8850)
    agx_gpu = ProfiledDevice(11.11, 7361)
    rpi_cpu = ProfiledDevice(38.18, 69872)

    all_devices = [tx2_cpu, tx2_gpu, nx_cpu, nx_gpu, nano_cpu, nano_gpu, agx_cpu, agx_gpu, rpi_cpu]
    device_config = random.choices(all_devices, weights=None, k=num_clients)

    dl = [193.51,180.48,171.76,167.6,161.8,159.47,153.18,137.51,127.14,112.64,110.4,109.51,102.61,96.85,94.42,93.64,90.97,88.08,86.96,83.96,83.47,83.27,78.81,78.06,76.6,75.92,74.17,71.82,70.3,70.1,68.28,67.57,64.89,62.72,60.36,60.01,59.02,58.63,57.95,57.09,56.94,56.77,55.88,55.18,55.06,55.01,54.44,53.82,53,52.78,52.03,50.24,48.28,45.74,45.22,44.6,43.33,43.02,42.49,40.73,40.53,40.41,40.07,38.49,37.37,37.11,36.76,36.1,34.74,34.22,34.2,33.98,33.78,33.15,32.84,32.73,32.67,31.06,30.86,30.18,30.06,30.01,29.71,29.5,27.3,27.2,26.7,26.1,26.03,25.68,25.52,25.44,25.04,24.92,24.79,24.53,23.99,23.63,22.91,22.6,22.59,22.37,22.28,22.14,22.08,22.08,22.04,21.85,21.66,21.2,20.72,20.04,19.94,19.61,19.44,19.38,19.35,18.39,18.27,18.25,18.23,17.84,17.83,17.73,17.54,16.78,16.65,15.44,14.38,14.14,13.31,13.23,12.85,12.69,12.48,8.05,7.37]
    ul = [28.05,23.83,24.46,23.65,25.45,29.97,22.99,24.38,16.73,20.15,19.48,25.26,23.12,21.96,20,16.69,13.54,13.67,19.96,17.16,16.52,18.27,12.1,17.02,11.74,15.16,14.24,15.09,15.62,14.41,14.3,15.44,13.22,18.43,11.76,20.76,14.61,15.09,16.51,14.27,14.46,23.52,21.31,12.47,11.13,12.61,13.61,16.48,13.37,13.91,13.04,16.88,16.53,13.74,13.78,11.22,10.4,19.82,17.44,12.46,14.4,10.69,13.97,12.45,16.21,14.97,14.62,16.46,13.37,15.24,12.81,11.9,9.25,10.15,8.92,10.8,10.86,11.66,13.72,11.89,9.93,14.72,15.5,16.39,11.33,9.77,12.36,10.87,10.35,11.71,10.6,10.76,13.1,11.8,11.56,17.14,9.91,10.13,9.68,12.15,14.73,13.27,10.08,12.61,12.84,15.67,8.11,11.55,12.43,10.23,12.2,12.14,12.51,11.3,10.32,9.47,12.09,9.47,10.01,6.78,9.18,5.17,7.99,10.21,25.44,6.45,6.26,8.35,6.59,7.83,11.74,9.24,7.6,6.85,7.98,4.61,3.14]    

    dl = dl[:10] + dl[-10:]
    ul = ul[:10] + ul[-10:]

    all_speeds = list(zip(dl,ul))
    device_speeds = random.choices(all_speeds, weights=None, k=num_clients//num_device_per_user)

    return device_config, device_speeds
